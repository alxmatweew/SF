# SF
Здравствуйте!
Позвольте немного описать контекст и мотивацию сдачи неполностью решенной работы.

Я осознаю, что тут не весь требуемый функционал, что в условиях задачи, но, к сожалению, сама формулировка задания мне не совсем понятна. Ментор не отвечает уже 3-и сутки и ответит ли на мои вопросы - не знаю, а работа над ДЗ получается, что стоит. Об этой ситуации я сообщил координатору, но "воз и ныне там". Именно поэтому я причесал и собрал все то, что понял, ограничился этими рамками сознательно, и предоставляю в качестве решения в надежде, что после проверки получу обратную связь более точную и на ее основе смогу правильно доделать задание (а то у меня вариантов того, как что-то можно реализовать - полно, но я понимаю, что если я начну все это реализовывать, то сделать все можно, но времени на это не хватит, а понять рамки учебной задачи у меня в данных обстоятельствах не выходит).  

**Теперь по тому, что сделано:**

Я пытался решить продвинутую задачу с написанием сервера, который принимает команды по API.

1. За основу был взят пример http-сервера из рекомендаций к ДЗ модуля 6. 
2. Были реализованы обработчики GET и POST запросов.
3. Управление утилитой по API реализовано через POST запросы, т.к. в модуле 7 были комментарии, что передача параметров должна происходить в теле запроса, а GET не подразумевает наличия такового тела (да, технически возможно, но из статей в интернете я понял, что это порочная практика и не рекомендуется так делать). Всего в утилите два модуля: ping и sendhttp. То, какой модуль отработает, зависит от того, что придет в качестве пути (послать параметры после "?" в запросе можно, но они никак не будут отработаны, хотя и к проблеме не приведут, т.к. это предусмотрено), а сами параметры берутся из тела, подразумевая, что в теле json-объект. 



**Для PING**

правильный запрос таков:

    <server>:8000/ping

правильный json таков:

{"IP":"8.8.8.8", "Count": 1} 

IP - начальный адрес
Count - это сколько следующих IP-адресов пропинговать (!т.к. используется модуль ipaddress, то 8.8.8.255+5 = 8.8.9.3, а значит при больших Count будут получаться вполне валидные адреса, а потому я искусственно ограничил Count = 5 для учебных целей, т.к. иначе требуется дорабатывать логику до запроса маски и оперирование уже подсетями и пр... И большие Count приводят к долгим задержкам.)

**Для SENDHTTP**

правильный запрос таков:

    <server>:8000/sendhttp

правильный json таков:

{"Target":"https://webhook.site/e1fed98b-57da-476e-a43d-18c7c0712798", "Method": "GET","Headers":{"User-Agent":"xal","Accept-Encoding": "gzip"}}

В Headers можно прописать все необходимые заголовки - они передадутся все словарем

4. Для упаковки утилиты в контейнер создан Dockerfile, а для того, чтобы установить все необходимые модули Python-а, есть файл requirements.txt
